---
title: "Vibeコーディングチュートリアル：CursorでSSHプラグインを構築する"
description: "コードなしのサーバー管理"
---

<Cards>
  <Card 
    icon={<i className="ri-github-fill" />} 
    href="https://github.com/stvlynn/ssh-dify-plugin" 
    title="GitHub"
  >
  <p>GitHubでリポジトリを見る</p>
  </Card>
  <Card 
    icon={<i className="ri-store-2-line" />} 
    href="https://marketplace.dify.ai/plugins/stvlynn/ssh-dify-plugin" 
    title="Difyマーケットプレイス"
  >
  <p>Difyマーケットプレイスからインストール</p>
  </Card>
</Cards>

---

## 紹介
先月、Difyはプラグイン機能を搭載したv1.0.0バージョンをリリースしました。この記事では、Dify用のSSHプラグインを構築する方法を紹介します。

プラグインリポジトリは[GitHub](https://github.com/stvlynn/SSH-Dify-Plugin)で入手可能です。

## Manus AIからのインスピレーション
SSHプラグインのインスピレーションはManus AIの"コンピューター使用"機能から得られました。これは、サーバー管理に特化した従来のチャットボットとの違いは、自主的にタスクを実行できることです。Manus AIは、先進的な"ブラウザー使用"と"コンピューター使用"の統合を利用します。

![image.png](https://s2.loli.net/2025/05/12/V7kMFmTYtsUqx6Q.png)

Manus AIからの2つの重要なアイデアは次のとおりです。

サーバーインタラクション：Manusの"コンピューター使用"機能をサーバー管理に変換します。

代理駆動のタスクプランニング：AI代理を使用してタスクを効率的に管理および実行します。

## SSHプラグインの概要
SSHプラグインは、リモートコマンドの実行とセキュアなファイル転送を促進し、Manus AIの"コンピューター使用"の概念をリモートサーバーインタラクションに適用します。SSHプロトコルを利用することで、このプラグインはAI代理が、サーバーの設定、アプリケーションのデプロイ、またはトラブルシューティング操作などのタスクを独立して管理できるようにします。

![image.png](https://s2.loli.net/2025/05/12/zK7URIC6a5Fk3Yt.png)

## インストール
このプラグインは、Difyマーケットプレイスで"SSH"を検索することで簡単にインストールできます。

![image.png](https://s2.loli.net/2025/05/12/7JMNsuo4ajSnBDk.png)

## 開発プロセス
プラグイン開発プロセスはCursorを利用しています。これはLLMドライブの開発ツールであり、効率を大幅に向上させ、コードを書くことができない人でも簡単にプラグインを構築できます。

### ステップガイド：
1. 準備

Cursorをインストールし、サブスクリプションまたはLLM APIを統合します。

新しいプロジェクトを作成し、AIパネル（⌥Option+⌘Command+B）に切り替えます。

![image.png](https://s2.loli.net/2025/05/12/wWNPcisZS8tdeXL.png)

@を入力し、URL：https://docs.dify.ai/を入力してDifyドキュメントを追加します。

![image.png](https://s2.loli.net/2025/05/12/GW9QE8VoKh5HnCc.png)

設定→機能を有効にして"Yoloモード"を簡単にコマンド実行（注意使用）。

![image.png](https://s2.loli.net/2025/05/12/jyJNhsPfQvYcL6q.png)

2. プラグイン作成

新しいターミナル（ターミナル→新しいターミナル）を開きます。

Difyが提供するプラグインスケルトンを使用して新しいプラグインを作成し、設定を指示に従って操作します。

3. 開発とデバッグ

Cursorで以下のヒントを入力します。

```
Difyドキュメントのプラグイン開発部分を読む。
私は@sshのスケルトンを使用してプラグインプロジェクトを作成しました。
このプロジェクトをベースにSSHプラグインを開発してください
```

## サーバー管理チャットフローの作成
Difyで作業フローを設計することで、サーバー管理を効率的に処理できます。推奨される構造は次のとおりです。

![image.png](https://s2.loli.net/2025/05/12/bFQDxyofqLu9cUl.png)

### ワークフローコンポーネント
#### タスクプランニング
- Markdown形式でタスクリスト（`[ ]`は処理中のタスクを表す）を生成します。

- 実行効率を向上させるために優先タスクを明確にします。

### 実行ループ
ループには以下の手順が含まれます。

1. タスクの読み取り：処理中のタスクを認識し、対応するSSHコマンドを生成します。

2. SSH実行：SSHリモートでコマンドを実行します。

3. 結果の記録：コマンドの結果を保存し、IPアドレスなどの重要な詳細情報を抽出します。

4. タスクの更新：

- 問題を解決するために新しいタスクを作成します。

- 完了したタスクに`[x]`を付けます。

5. 完了チェック：すべてのタスクの完了状況を確認し、すべてのタスクが完了した([x])場合はループを終了します。

### 応答ノード
結果を自然言語で明確にユーザーに伝える必要があります。技術的な理解は不要です。

このワークフローはAIがサーバータスクを自主的に管理し、問題を効率的に解決し、結果を明確にユーザーに伝えることを保証します。これで、Difyの代理ワークフローを使用してクラウドサーバーを簡単に管理できます！

- 自動デプロイ：サービスを簡単にインストールし、設定を更新し、アプリケーションを再起動します。

- リモートファイル管理：手動ログインを必要とせずにファイルを作成、編集、管理します。

- カスタムスクリプトの実行：コマンドを実行し、cronジョブを管理し、メンテナンスタスクを自動的に実行します。

- 監視とトラブルシューティング：ログを取得し、システムの正常性を確認し、問題をすぐに解決します。 