---
title: "Vibe编码教程：使用Cursor构建SSH插件"
description: 无代码方式的服务器管理
enableComments: true
author: "Steven Lynn"
github_username: "stvlynn"
x_username: "Stv_Lynn"
---

<Cards>
  <Card 
    icon={<i className="ri-github-fill" />} 
    href="https://github.com/stvlynn/ssh-dify-plugin" 
    title="GitHub"
  >
  <p>在GitHub上查看仓库</p>
  </Card>
  <Card 
    icon={<i className="ri-store-2-line" />} 
    href="https://marketplace.dify.ai/plugins/stvlynn/ssh-dify-plugin" 
    title="Dify市场"
  >
  <p>从Dify市场安装</p>
  </Card>
</Cards>

---

## 介绍
上个月，Dify发布了带有插件功能的v1.0.0版本。在本文中，我将向您展示如何为Dify构建SSH插件，以实现服务器管理功能。

插件仓库可在[GitHub](https://github.com/stvlynn/SSH-Dify-Plugin)上获取。

## 从Manus AI获取灵感
SSH插件的灵感来源于Manus AI的"计算机使用"功能，专门针对服务器管理进行了调整。Manus AI与传统聊天机器人的不同之处在于它能够自主执行任务，利用其先进的"浏览器使用"和"计算机使用"集成。

![image.png](https://s2.loli.net/2025/05/12/V7kMFmTYtsUqx6Q.png)

受Manus AI启发的两个关键理念包括：

服务器交互：将Manus的"计算机使用"功能转变为服务器管理。

代理驱动的任务规划：使用AI代理高效管理和执行任务。

## SSH插件概述
SSH插件可促进远程命令执行和安全文件传输，有效地将Manus AI的"计算机使用"概念应用于远程服务器交互。通过利用SSH协议——一种在不安全网络上进行安全通信的行业标准方法——该插件使AI代理能够独立管理诸如配置服务器、部署应用程序或进行故障排除操作等任务。

![image.png](https://s2.loli.net/2025/05/12/zK7URIC6a5Fk3Yt.png)

## 安装
该插件可以通过在Dify市场中搜索"SSH"轻松安装。

![image.png](https://s2.loli.net/2025/05/12/7JMNsuo4ajSnBDk.png)

## 开发过程
插件开发过程利用Cursor，这是一个由LLM驱动的开发工具，显著提高了效率，使即使是没有编码经验的人也能轻松构建插件。

### 步骤指南：
1. 准备工作

安装Cursor并完成订阅或集成LLM API。

创建新项目并打开AI面板（⌥Option+⌘Command+B），切换到"代理模式"。

![image.png](https://s2.loli.net/2025/05/12/wWNPcisZS8tdeXL.png)

通过输入@并输入URL：https://docs.dify.ai/ 添加Dify文档。

![image.png](https://s2.loli.net/2025/05/12/GW9QE8VoKh5HnCc.png)

从设置→功能启用"Yolo模式"以简化命令执行（谨慎使用）。

![image.png](https://s2.loli.net/2025/05/12/jyJNhsPfQvYcL6q.png)

2. 插件创建

打开新终端（终端→新终端）。

使用Dify提供的插件脚手架创建新插件，并按照配置提示进行操作。

3. 开发和调试

在Cursor中输入以下提示：

```
阅读Dify文档中的插件开发部分。
我已经使用@ssh处的脚手架创建了一个插件项目。
请基于此项目开发SSH插件
```

## 创建服务器管理聊天流程
您可以通过在Dify中设计工作流程来高效处理服务器管理，推荐的结构如下：

![image.png](https://s2.loli.net/2025/05/12/bFQDxyofqLu9cUl.png)

### 工作流程组件
#### 任务计划
- 以Markdown格式生成任务列表（`[ ]`表示待处理任务）。

- 明确优先任务以提高执行效率。

### 执行循环
循环包括以下步骤：

1. 任务读取：识别待处理任务并生成相应的SSH命令。

2. SSH执行：通过SSH远程运行命令。

3. 记录结果：存储命令结果并提取关键详细信息，如IP地址。

4. 任务更新：

- 创建新任务以解决出现的问题。

- 用`[x]`标记已完成的任务。

5. 完成检查：验证所有任务的完成情况，一旦所有任务都标记为完成([x])，结束循环。

### 响应节点
用自然语言清晰地向用户传达结果，无需技术理解。

此工作流程确保AI自主管理服务器任务，有效解决问题，并清晰地向用户传达结果。现在，您可以使用Dify的代理工作流程轻松管理您的云服务器！

- 自动部署：轻松安装服务，更新配置和重启应用程序。

- 远程文件管理：无需手动登录即可创建、编辑和管理文件。

- 运行自定义脚本：执行命令，管理cron作业，并自动执行维护任务。

- 监控和故障排除：获取日志，检查系统健康状况，并立即解决问题。 